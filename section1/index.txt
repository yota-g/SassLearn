フロントエンジニアのためのSass講座
2.Sassとは、
Syntactically Awesome StyleSheetsの略語。
構造的に　イケてる　スタイルシート　という意味
CSSプロセッサー、またはメタ言語
CSSを拡張し、プログラミング的要素を付加したもの。

効率的に書いて、コンパイルしてcssとして使用する。

Sassが生まれた背景
cssは広く普及させる目的で、プロパティと値できるような書式でできている。
そのため、プログラミングの知識がなくても覚えやすいが、Webが複雑になってきている。
近年のWebサイトのリッチ化、大規模、複雑化により、
コードの再利用、コンポーネント化などの要望が出てきて、プログラミング的要素への要望が出てきた。
CSSの弱点を補うためにSassが誕生した。
CSSにプログラミング言語を適用させるには時間がかかる、だから、その弱点を補うために新しいメタ言語を開発し、
そのメタ言語で記入したものをサーバーやローカル環境で変換するということで生まれたのがSassである。
2006年に公開された。
最初はcssとの互換がなかったが、Sass3.0からSCSS記法が導入され、利用されやすくなった。

Sass のメリット。
記述の簡略化、コードの再利用、演算や関数、条件分岐、ループなどが使える。
分割したファイルを1つのCSSにまとめられる。 httpのリクエスト数が増えることを想定せずに分けコードをわかりやすく整理する事ができる。
SCSS記法なら導入のハードルが低い。Sass以外の同じような機能を持ったものがある。

3.SassとSCSS
Sass記法とSCSS記法
Sassには記法が２種類ある。
2006年公開時にはSass記法のみ。
Sass3. 0からSCSS記法が導入された。 CSSとよく似た記法
SCSSが導入されてから、Sassの普及が進む。

.Sass記法
拡張子: .sassを使用。
波括弧は使用せずに、インデントでネストを表現する。
ミックスインや継承なども省略記法がある。
記述量を減らしシンプルにかける。
デメリットはcssと書き方が大きく違うので書き方をマスターするために時間がかかる。

.SCSS記法
拡張子: .scss
Sassy CSS イケてるCSSの略
CSSと完全互換  CSSの拡張子をSCSSと書き直すだけでSassと認識してコンパイルして導入できる。
CSSと書き方が似ているので導入しやすい。cssと完全互換なので部分的にsassを使用することもできる。 
記法の主流はSCSS記法。

Sass記法の場合
ul 
  margin-bottom: 20px 
  li
    padding: 5px

これでビルドするとnestが展開されて、ul　ul li セレクターが展開されているのがわかる。

次は、SCSS記法で確認する。 ネストしない場合はcssと書き方が同じ。
ul{
  margin-bottom:20px;
  li {
      padding: 5px;
  }
}
これでネストが展開されてul liが表示される。

4.利用する技術・ツール
記法は、SCSS記法学習する。

エディタはAtomを使用している。
他のエディタでもOK

ビルドツール
Sassとビルドするツールも様々なものが開発されている。
大きく分けると２種類ある。
CUIツール
Ruby Sass 
Grunt 
Gulp　今回はこれを使用。タスクランナーのガルプを使用する。tsや構文チェックなど様々なものにも使用できる。

GUIツール
Dreamweaver 
Prepros
Koala
などがある。

Gulpを使用するためには、Node.jsとnpmをインストールする必要がある。
node.jsをインストール。hombrewをインストール。nodebrew  をインストール。　
そしてnpmを使用できるようにする。

7.Gulpをインストールする
タスクランナーのGulpをインストールする方法を学ぶ。
node.js管理ツールのnpmでダウンロードする。
ローカルにダウンロードか、グローバルにダウンロードかを選択できる。
ローカルにダウンロードするとそのインストールしたディレクトリからしか利用できない。
基本的にはローカルにダウンロードして、パッケージをそれぞれのディレクトリで管理するのが一般的。
両方にインストールが必要なものもあって、Gulpはその中の1つ。グローバルとローカルの両方にインストールする。
作業ファイルと作業フォルダを作っていく。
sassファイルを保存するディレクトリを作っていく。　
cssフォルダにsassをビルドしてコンパイルしたものをいれるフォルダを作る。

Gulpのインストールを行っていく。
作業ディレクトリに行って行う。

npm install --global gulp-cliと入力してインストールを行う。
これでグローバルにgulpがインストールされる。　

npm  initでpackage,jsonのファイルを作る。
npmの設定を保存するため。defaultを変更するものを確認されるが、特に変更する必要がないのでenterを押して行って大丈夫。
ディレクトリで使用するnpmの初期設定が保存された。

次にローカルにgulpをダウンロードする。
最近はローカルにダウンロードするだけの方が主流。
npm install --save-dev gulpでローカルにgulpをダウンロードする。
save-devは先ほど、作成したpackage.jsonに開発用のパッケージとしてインストール情報を保存するオプション。
npmでローカルにインストールするとインストールしたファイルはnode_modulesに格納される。
最後に、sassをビルドするパッケージgulp sassをinstallする。
npm install --save-dev gulp-sass
 
 8.初めてのSass
 gulpでsassをビルドする方法を学習する。
 ダウンロードファイルでダウンロードしてgulpファイルを作業ディレクトリにいれる。
 gulpfile.jsはgulpに実行させる内容を記述したもの。
gulp.task('sass', function(){
  return gulp.src('./_src/sass/**/*.scss')　ビルドする対象を指定している。 先の指定のディレクトリの.scss拡張子の全てが対象。
    .pipe(sass({outputStyle: 'expanded'}))　これでsassをビルドして、
    .pipe(gulp.dest('./css')); ビルドする先はcssと指定している。
});

次にwatchというタスクを作っている
これは、このタスクはファイルが作成されて保存されると自動でsassというタスクを実行してsassをビルドする。
gulp.task('watch', function(){
  gulp.watch('./_src/sass/**/*.scss', gulp.task('sass'));
})

最後にwatchというタスクをデフォルト設定して設定している。　
gulp.task('default',gulp.series('watch'));

簡単なsassを書いてビルドを行っていく。
書いた後にターミナルを開いてgulpのタスクを実行してsassをビルドする。
gulpのタスクを実行するのは作業ディレクトリのrootで行う。
gulp sassでsassというタスクをgulpで実行をするという命令になる。
そうするとビルドが完成する。
cssのディレクトリにstyle.cssというファイルがビルドされる。
ファイルの中を見ると入れ子で書いてあったscssが撤回されて見慣れたcssの書き方になっている。

次に、ファイルの監視と自動ビルドを見ていく。
gulpと入力すると、defaultでwatchが設定されているのでタスク名を指定せずにgulpと入力すると
watchタスクが実行される。
これでgulpがsassの状態を監視して、待機状態になる。
この状態でsassのファイルを変更して保存するとsassファイルの方で保存されたのを検知して、sassのビルドが実行される。変更した内容が追加されている。
watchの監視を止めるにはCtrl + c で終了させる事ができる。

最後にcssと出力形式について学習する。
 ビルド時にオプションとして出力形式を指定する事ができる。
 出力形式には４種類ある。
 nested, 
 expanded, 
 compact, 
 compressed
 
 gulp sassで適用できる。

gulpファイルjsのビルドオプションを変えることで出力形式を変える事ができる。
nested：出力形式のデフォルトなので何も指定しない場合は、nestedになる。
       　　オプションを指定しない場合もnestedで表示される。
 ul {
  margin: 0 0 20px;}
  ul li {
    padding: 5px;
    text-decoration: none;}
インデントでネストの状態が表現された状態で表示される。

expande:このオプションで表示させるとどうなるか。
ul {
  margin: 0 0 20px;
}
ul li {
  padding: 5px;
  text-decoration: none;
}
一般的なcssのフォーマットで出力されている。

ccmpact:で出力する。

ul {margin: 0 0 20px;}

ul li { padding: 5px; text-decoration: none;}
のようにセレクタ毎に一行にまとめて表示される。

compressed:で表示させるとどうなるか。
ul {margin: 0 0 20px;}ul li { padding: 5px;text-decoration: none;}
インデントや改行がなくなって、全て一行に圧縮状態で出力されファイル容量が一番小さくていいので、リリース時にはこの形式にしてあげるといい。

9.DreamWeaverの設定。
DreamWeaverを使って、sassをビルドする方法を学ぶ。
サイトを指定する必要がある。
任意のファイルを指定して、作業ディレクトリの指定などを行う。


