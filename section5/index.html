ミックスインと継承
25.ミックスインの基本
強力な機能
スタイルの集まりをミックスインで定義するといろいろな場所から呼び出す事ができる。
定義して、色んな場所から呼び出せるものは変数と同じだが、変数は数値や文字列を定義するものだったが、ミックスインで定義できるのはスタイルの集まり。
ミックスインに引数という形で外から値を渡す事で、定義したスタイルの形を一部変更して使用することもできる。

定義の仕方。@mixin　名前 {スタイルを定義}
@mixin roundBox {
  border-radius: 10px;
  background: #ededed;
  border: 1px solid #666;
}
書いてもcss には何も書き出されず、使用するにはincludeを使用する。
まずはセレクターを指定する。
.sideArea {
  include roundBox; 
}
と書くことで.sideAreaの中に指定したミックスインが入り、cssが出力される。

mixinは何度でも繰り返して使用する事ができる。
定義するときの@mixinと@includeは常にセットで使用するので覚える事。

変数と同じようにミックスインの命名にもルールがある。
ルールは変数と同じ。英数字-_とマルチバイト文字も使用することできる。
@mixin _box{}
@mixin -box{}
@mixin 文字列
はつけられるが、変数と同じで半角数字から始まるものはつけられない。
半角数字から始めるとエラーコードが出る。
invalid name in @mixin definitioと表示される。
そして、ビルドが止まる。

mixinのスコープも変数と同じ。
セレクタの中でmixinを定義する事ができる。
セレクタの中で定義したものは同じセレクタの中でしか使用できない。
セレクタ外で読み込もうとするとエラーが出る。
no mixin named mainBoxと表示されて出力されない。　
元々様々なところで使用することを想定したものなのでわざわざスコープを限定したものにする必要はないがスコープがあることを覚えておく。


26.ミックスインへの引数の指定。lecutre26.scss参照
mixinには外から引数を渡す事ができる。
引数とは関数の処理などで外から渡す値のことをいう。
引数の値を使って、プログラムの処理を行う。

引数を受け取る事ができるミックスインを定義するには、ミックスイン名の後に（）を記入して指定する。
$valueはミックスインの中では、変数と同じように使用する事ができる。
@mixin paddingBox ($value) {
  padding: $value;
}

引数を指定して呼び出す時は、includeのmixin名の後に（）を書いて呼び出す。
#main {
  .mainBox{
    @include paddingBox(10px);
  }
}
そうするとpaddingが10pxのmainBoxが出力される。
mixinの中で引数は変数として扱う事ができるので、
ミックスインの中で演算することもできる。

mixinを渡す時通常は決まった値を渡したいが、決まった時に決まった値を渡した時
どうするのか。
mixinを呼び出すたびに記入するのは面倒。
引数にデフォルトの初期値を設定しておくと、引数なしで行うとその初期値を使用してミックスインさせる事ができる。

初期値の設定は　引数名: 初期値で設定できる
設定すると引数なしで呼び出すと初期値が適用されて出力される。
引数を入れない時は（）がなくても大丈夫。

27.複数の引数の指定するミックスイン
複数の引数の指定ができる。
引数ごとに,（カンマ）で区切る。

@mixin font ($color, $size) {
  color: $color;
  font-size: $size;
} のように指定できる。

引数が複数あっても初期値を指定する事ができる。
使用方法は同じ。
全ての引数を省略する時は何も書かなくていいが、
いずれかを入力したい場合、その他を省略できるのか。
途中の引数の省略はできない。
$colorを省略して、$sizeを書くことはできない。
  .second { @include font(, 20px);}はできない。エラーになる。
  この場合どうするのか。
  変数名を指定して、:で区切るとできる。@include font ($size: 20);
とする事でエラーがなくなる。

$colorを指定して、$sizeを省略する事はできる。(#00f)

引数は、多すぎてもやりづらいので4〜5ぐらいまでにした方がいい。

28.可変長引数
個数を限定しないで複数の引数を与える事ができるもの。
text-shadowやbox-shadowなど複数の引数を設定できるものなどを引数でカンマ区切りの値を渡すにはどうしたらいいのか。
引数を2つ設定する場合。 それぞれカンマ区切りで指定する。
@mixin shadow ($value){
  text-shadow: $value;
}
.main {
@include shadow(8px 8px 0 #666 , 10px -10px 0 #999)
}

これを保存すると、エラーが出る。
なぜか、shadowというmixインには1つしか引数が指定されていないのに、
呼び出す方で、カンマ区切りで指定しているので2つの引数を指定しているということになっているから。

これを解決する方法は3つある。
1, （）でいれる引数を括ってあげる。
@include shadow ((8px 8px 0 #666 , 10px -10px 0 #999))
そうするとちゃんと表示される。

2,文字列として渡す。
（）の中を文字列で渡す事で1つものもとして扱われるのでエラーにならない。
@include shadow("8px 8px 0 #666 , 10px -10px 0 #999");
ただし、出力される方にもダブルクォーテーションが入ってしまうので、
cssとしてはエラーになる。
ダブルクォーテーションを外すためにunquoteという関数を使用して渡す事でダブルクォーテーションが外されて表示される。
@include shadow (unquote ("8px 8px 0 #666 , 10px -10px 0 #999"));

3,可変長引数を使用する。
可変長引数を使用するには、mixinの引数の後ろに...を記入する事で可変長引数となり、個数を限定せず引数をとる事ができる。

@mixin shasdow ($value...){
  text-shadow: $value ;
}
とする事で
呼び出す方も特にカッコや文字列にせず呼び出せる。

可変長引数のもう一つの使用方法。
複数の引数を指定するmixinに対して、可変長引数で引数の値を渡すということをする。
@mixin box ($w: 300px, $pd: 20px, $mg: 40px, $clr: #f00) {
  width: $w;
  padding: $pd;
  margin: $mg;
  color: $clr;
}

$value: 200px, 40px,  //変数として、カンマ区切りの値をvalueで設定する。
boxというmixinにvalue という変数を引数として渡して,mixinを使用する。


.main {
  @include box($value);
}
のように引数を使用すると、widthの部分に200px, 40px;のように入ってしまうので
そこで可変長引数を使用する。
@include box ($value2...);と設定すると、
width: 200px;
padding: 40px;という風に2つに分けられて出力されるようにできる。

29.ミックスインにコンテントブロックを渡す。
ミックスインには引数を渡すだけではなく、コンテントブロックとしてスタイルの集まりを渡す事ができる。
コンテントブロックを渡すのでわかりやすいのはメディアクエリ。
メディアクエリの中に外から渡されたコンテントを展開させたい場所に@contentと書くと外から渡されたコンテントを展開させる事ができる。

コンテントブロックを渡せるミックスインの使用方法は、
セレクタとスタイルを定義する必要がある。
mixinを使用したい場所に@include media {}を記載。
{}の中にコンテントブロックとして渡したいスタイルを記載する。
そうすると、ミックスインで定義したメディアクエリの中に.item.image{float: none}が展開されているというようになっている。
@mixin media {
  @media only screen and (max-width: 768px) {
    @content;
  }
}

.item {
  .image {
    float: left;
    @include media {
      float: none; 
    }
  }
}

また、ミックスインなので繰り返し使用する事ができるので、
ミックスインを定義しておく事で繰り返し、メディアクエリを複数箇所で使用していたとしても、１箇所ミックスインの部分を変えると全てメディアクエリの条件が変更されるのでとても便利。(max-widthの値を変更など、、)

また、コンテントブロックを渡すミックスインも引数を指定することもできる。
外で定義した変数をmixinに渡すこともでき、そうすることで柔軟なmixinが作る事ができる。


